#!/bin/bash
set -e

echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–ª–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É dotfiles..."
echo ""

# –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã install.sh –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∏—Ö
for installer in */install.sh; do
    # –ü–æ–ª—É—á–∞–µ–º –∏–º—è –º–æ–¥—É–ª—è –∏–∑ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "tmux")
    module_name=$(basename "$(dirname "$installer")")
    
    echo "--- üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è: $module_name ---"
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–¥—É–ª—è
    bash "$installer"
    
    echo "--- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è $module_name –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ---"
    echo ""
done

echo "‚ú® –í—Å–µ –º–æ–¥—É–ª–∏ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã! ‚ú®"
echo ""
echo "–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–¥–µ–ª–∞—Ç—å Zsh –æ–±–æ–ª–æ—á–∫–æ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:"
echo "chsh -s $(which zsh)"
echo "–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É."